<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Инспектор</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script>
<!-- В <head> или перед </body> -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.8.0/sql-wasm.js"></script>
<link id="page-control-params-css" rel="stylesheet" href="pages/page-control-params.css" disabled>

</head>
<body>
  <!-- Боковое меню -->
  <div id="sidebar" class="sidebar">

<div class="inspector"
style="position: absolute; width: 100%; height: 50px; left: 0; margin-left: 0; 
background: linear-gradient(to left, rgb(242, 242, 242), rgb(255, 255, 255)); 
 display: flex; justify-content: center;
align-items: center; margin-top: 0; top: 0;
"
>
<h2
style="position: relative; left: 0px; top: 0px; 

color: rgba(119, 93, 185, 0.733); font-weight: bold;"
>INSPECTOR</h2>
</div>    

    <!-- <button class="close-btn" onclick="closeSidebar()">×</button> -->
    <br>
    <h3>Меню</h3>
        <ul>
      <li><a href="inspectorcontrols.html" style="color: inherit; text-decoration: none; display: block; height: 100%;">⚙️ Параметры контроля</a></li>
      <li onclick="showPage('page-tolerance')">📏 Допуски</li>
      <li><a href="hardness-tool.html" style="color: inherit; text-decoration: none;">🔨 Твердость</a></li>
      <li><a href="elements.html" style="color: inherit; text-decoration: none;">⚛ Материалы</a></li>
      <li><a href="catalog.html" style="color: inherit; text-decoration: none;">📚 Справочник</a></li>
      <!-- <li><a href="pdfreader.html" style="color: inherit; text-decoration: none;">🅰️ pdf_reader</a></li> -->
      <li><a href="tesseract.html" style="color: inherit; text-decoration: none;">🅰️ gost_reader</a></li>
      <li><a href="vectorize3.html" style="color: inherit; text-decoration: none;">♻ vectorize</a></li>
      
      <li><a href="htmlreader.html" style="color: inherit; text-decoration: none;">⌨️ html_Read</a></li>
      <!-- <li onclick="showPage('inspectorcontrols')">⚙️ Параметры контроля</li> -->
      <!-- <li onclick="showPage('page-inspection')">🔍 Проверки</li> -->
      <!-- <li onclick="showPage('page-ncr')">📝 Акты несоответствия</li> -->
      <!-- <li onclick="showPage('page-checklist')">📎 Комплектность</li> -->

      <li onclick="showPage('page-mailer')">📧 репорт</li>
      <!-- <li onclick="showPage('page-materials')">🔧 Материалы</li> -->
      <!-- <li onclick="showPage('page-standards')">📚 Стандарты</li> -->
      <!-- <li onclick="showPage('page-compare')">🔄 Сравнение</li> -->
      <!-- <li onclick="showPage('page-company')">🏭 Предприятия</li> -->
      <li onclick="showPage('page-reminders')">🔔 Напоминания</li>
      <!-- <li onclick="showPage('page-translate')">🌐 Перевод</li> -->
      <!-- <li onclick="showPage('page-statistics')">📊 Статистика</li> -->
      <li onclick="showPage('page-inspector-profile')">👤 профиль</li>
      <li onclick="showPage('page-analytics')">📈 Аналитика</li> 
      <!-- <li onclick="showPage('page-add-item')">📗 Добавить изделие</li> -->
      <!-- <li onclick="showPage('page-help')">📘 инфа</li>  -->
      <!-- <li onclick="showPage('page-smart')">⚡ консоль</li> -->

      <!-- <li onclick="showPage('page-skill-tree')">🌟 древо умений</li> -->
    </ul>
      <!-- Кнопка загрузки кассеты -->
<div id="knowledge-loader" style="position: relative; top: 10px; left: 10px; z-index: 1000;">
  <input type="file" id="knowledgePack" accept=".zip" style="display: none;">
  <button onclick="document.getElementById('knowledgePack').click()">
    💾 Загрузить
  </button>
</div>

<button onclick="unloadKnowledgePack()" style="position: relative; top: 30px; left: 0px;">📀 Извлечь</button> 

  </div>

  <div class="menu-btn" onclick="toggleSidebar()">☰</div>
  <!-- <div class="menu-btn" onclick="openSidebar()">☰</div> -->


  <div id="mainContent" class="main-content">
    
  </div>


  <!-- Кнопка "Для разработчиков" (внизу экрана) -->
<div id="for-developers-btn" class="for-developers-button" onclick="openDeveloperModal()">
  🔥
</div>

<!-- Модальное окно для разработчиков -->
<div id="developer-modal" class="modal" style="display: none;">
  <div class="modal-content">
    <span class="close" onclick="closeDeveloperModal()">&times;</span>
    <h2>📬 Обратная связь </h2>
    
    <!-- Уведомления сверху -->
    <div id="dev-notifications" class="dev-notifications">
      <!-- Здесь будут отображаться уведомления -->
    </div>
    
<!-- Эмоциональный селектор -->
<div class="emoji-selector">
  <div class="emoji-option selected" onclick="selectEmoji('👨‍💼')" title="Обычный фидбэк">
    👨‍💼 Инспектор
  </div>
  <div class="emoji-option" onclick="selectEmoji('👨‍💻')" title="Техническое уведомление">
    👨‍💻 Разработчик
  </div>
</div>

<!-- Инпут с эмодзи в углу -->
<div class="dev-input-container">
  <textarea 
    id="developer-feedback" 
    placeholder="Введите ваше сообщение..."
    rows="6"
  ></textarea>
  <div class="emoji-corner" id="emoji-corner">👨‍💼</div>
  
</div>


<!-- <div class="emoji-selector">
  <div class="emoji-option" onclick="selectEmoji('👨‍💼')" title="Обычный фидбэк">
    👨‍💼 Инспектор
  </div>
  <div class="emoji-option" onclick="selectEmoji('👨‍💻')" title="Техническое уведомление">
    👨‍💻 Разработчик
  </div>
</div>

<div class="dev-input-container">
  <div class="emoji-input-display" id="emoji-display">
    👨‍💼
  </div>
  <textarea 
    id="developer-feedback" 
    placeholder="Введите ваше сообщение..."
    rows="6"
  ></textarea>
</div> -->

    <!-- <div class="dev-input-container">
      <textarea 
        id="developer-feedback" 
        placeholder="Оставьте свои пожелания, замечания, идеи для улучшения приложения...&#10;&#10;Например:&#10;- Добавить поиск по номеру паспорта&#10;- Сделать кнопку экспорта в Excel&#10;- Исправить баг с копированием текста"
        rows="6"
      ></textarea>
    </div> -->
    
    <button class="dev-submit-btn" onclick="submitDeveloperFeedback()">📤 Отправить</button>
    
    <!-- История сообщений -->
    <div id="feedback-history" class="feedback-history">
      <h3>📜 История сообщений:</h3>
      <div id="feedback-list">
        <!-- Здесь будет список отправленных сообщений -->
      </div>
    </div>
  </div>
</div>

  <!-- Панель настроек ИИ (временно) -->
<!-- <div id="ai-settings" style="position: fixed; top: 10px; right: 10px; z-index: 1000; background: white; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
    <h4>🤖 Настройки ИИ</h4>
    <input type="password" id="apiKey" placeholder="API ключ OpenRouter" style="width: 200px;">
    <button onclick="saveApiKey()">Сохранить</button>
  </div> -->



  <!-- <div id="pack-status" style="position: fixed; bottom: 30px; left: 10px; color: green; font-size: 12px;">
    ${localStorage.getItem('knowledgePack_name') || 'Кассета не загружена'}
  </div> -->
  

  <!-- ✅ ИСПРАВЛЕННОЕ ПОДКЛЮЧЕНИЕ FIREBASE -->
  <!-- Firebase SDK (без type="module"!) -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
  <script>
    // 🔥 ТВОЙ КОНФИГ FIREBASE (вставь сюда!)
  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyCVr3ZztynpNzkeFY3aLKFN777oPunon4o",
    authDomain: "inspector-24f9b.firebaseapp.com",
    projectId: "inspector-24f9b",
    storageBucket: "inspector-24f9b.firebasestorage.app",
    messagingSenderId: "590955045913",
    appId: "1:590955045913:web:164311eb98caeca7643688"
  };

    // Инициализация Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // Делаем доступным глобально
    window.db = db;
    console.log('✅ Firebase инициализирован');
  </script>
<script src="Lumis.js"></script>
  <script src="script.js"></script>
</body>
</html>











